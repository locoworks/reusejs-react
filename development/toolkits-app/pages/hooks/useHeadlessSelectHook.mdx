---
HEAD OBJECT
title: "ReuseJS Headless Select"
author: "Shrey Dhyani"
---

## Reusejs Use Headless Select Hook

### Description

The `useHeadlessSelectHook` is a custom hook designed to create a headless select component in React. It provides a convenient way to manage the state and functionality of the select component, including options, selection, filtering, and handling outside clicks.

The `options` parameter is an array of objects representing the available options in the select component. Each option object can have any number of key-value pairs, but it must contain the `valueKey` specified as a parameter to identify the value of the option.

The `onChange` parameter is an optional callback function that will be called whenever the selected values in the select component change. It receives the selected option(s) as an argument.

You can also provide a custom `filterFunction` to define how the options should be filtered based on a query. This function takes an option object and the current query as parameters and should return a boolean indicating whether the option matches the query or not.

By default, when the select component is closed, the query is cleared unless the `clearQuery` parameter is set to `false`.

The `defaultSelected` parameter allows you to specify an initial selection for the select component. It should be an array of option objects corresponding to the desired default selection.

You can control the initial open state of the select component using the `defaultOpen` parameter. Set it to `true` if you want the select component to be initially open, or `false` otherwise.

The `defaultQuery` parameter allows you to specify a default query for filtering the options when the component is initialized.

If you want to trigger a refresh of the select component based on a certain dependency, you can pass that dependency as the `refresh` parameter. Whenever the `refresh` value changes, the select component will be refreshed.

By utilizing the `useHeadlessSelectHook` in your React components, you can easily create a  select component with customizable options, selection behavior, filtering capabilities, and more. The hook abstracts away the complex state management and provides a clean and reusable solution for implementing select components in your applications.

### Parameters

To use the useHeadlessSelectHook, you need to pass in the following parameters:
- `options` (Object): An array of options to be displayed in the select component.
- `valueKey` (string): The key in the options objects that represents the value.
- `onChange` (Function): Optional callback function called when the selected values change.
- `filterFunction` (Function): Optional custom filter function to filter the options based on the query.
- `clearQuery` (boolean): Flag indicating whether to clear the query when the select component closes.
- `defaultSelected` (Array): The default selected values for the select component.
- `defaultOpen` (boolean): The default open state of the select component.
- `defaultQuery` (string): The default query for filtering the options.
- `refresh` (any): Dependency to refresh the select component.

### Returns

An object containing the state and functions of the headless select component.

- `open` (boolean): The current open state of the select component.
- `setOpen` (function): Function to update the open state of the select component.
- `query` (string): The current query used for filtering the options.
- `setQuery` (function): Function to update the query for filtering the options.
- `selectedValues` (Array): The currently selected values in the select component.
- `setSelectedValues` (function): Function to update the selected values.
- `filteredOptions` (Array): The options that match the current query.
- `setFilteredOptions` (function): Function to update the filtered options.
- `addOrRemove` (function): Function to add or remove selected values based on the multiple selection mode.
- `outsideClickRef` (React.MutableRefObject): Ref object for handling outside clicks to close the select component.

Example:

```jsx
import React from 'react';
import { useHeadlessSelectHook } from '@locoworks/reusejs-toolkit-react-hooks';

const MyComponent = () => {
  // Define options, valueKey, and other necessary variables

  // Use the useHeadlessSelectHook
  const {
    open,
    setOpen,
    query,
    setQuery,
    selectedValues,
    setSelectedValues,
    filteredOptions,
    setFilteredOptions,
    addOrRemove,
    outsideClickRef
  } = useHeadlessSelectHook({
    options,
    valueKey,
    onChange,
    filterFunction,
    clearQuery,
    defaultSelected,
    defaultOpen,
    defaultQuery,
    refresh
  });

  // Return JSX and handle events using the hook's state and functions

  return (
    // JSX for the headless select component
  );
};
```

In this example, you can use the `useHeadlessSelectHook` to manage the state and functionality of a headless select component. You can customize the behavior of the select component by providing options, valueKey, onChange callback, filterFunction, and other optional parameters. The hook provides the necessary state variables and functions to handle the select component's behavior.

### Headless Select Example
For a comprehensive demonstration of the `useHeadlessSelectHook` in action and to explore additional details and examples, please visit the following link: [**Headless Select**](https://locoworks.org/reusejs-react/select-dropdown#usage). 

The provided link will take you to a resource where you can find a working implementation of the `useHeadlessSelectHook` along with accompanying documentation and examples. This will give you a hands-on experience and a deeper understanding of how to utilize the hook effectively in your own React applications.

export default ({ children }) => {
  return <div className="prose max-w-full mx-4 pb-10" >{children}</div>
};
